<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>m8.1t.jl ¬∑ StatisticalRethinking.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>StatisticalRethinking.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Chapter 0</span><ul><li><a class="toctext" href="../../00/clip_01_03/"><code>clip_01_03</code></a></li><li><a class="toctext" href="../../00/clip_04_05/"><code>clip_04_04</code></a></li></ul></li><li><span class="toctext">Chapter 2</span><ul><li><a class="toctext" href="../../02/clip_01_02/"><code>clip_01_02</code></a></li><li><a class="toctext" href="../../02/clip_03_05/"><code>clip_03_05</code></a></li><li><a class="toctext" href="../../02/clip_06_07/"><code>clip_06_07</code></a></li><li><a class="toctext" href="../../02/clip_08t/"><code>clip_08t</code></a></li><li><a class="toctext" href="../../02/clip_08m/"><code>clip_08m</code></a></li><li><a class="toctext" href="../../02/clip_08s/"><code>clip_08s</code></a></li></ul></li><li><span class="toctext">Chapter 3</span><ul><li><a class="toctext" href="../../03/clip_01/"><code>clip_01</code></a></li><li><a class="toctext" href="../../03/clip_02_05/"><code>clip_02_05</code></a></li><li><a class="toctext" href="../../03/clip_05s/"><code>clip_05s</code></a></li><li><a class="toctext" href="../../03/clip_06_16s/"><code>clip_06_16s</code></a></li></ul></li><li><span class="toctext">Chapter 4</span><ul><li><a class="toctext" href="../../04/clip_01_06/"><code>clip_01_06</code></a></li><li><a class="toctext" href="../../04/clip_07.0s/"><code>clip_07.0s</code></a></li><li><a class="toctext" href="../../04/clip_07.1s/"><code>clip_07.1s</code></a></li><li><a class="toctext" href="../../04/clip_38.0s/"><code>clip_38.0s</code></a></li><li><a class="toctext" href="../../04/clip_38.1s/"><code>clip_38.1s</code></a></li><li><a class="toctext" href="../../04/clip_38.2s/"><code>clip_38.2s</code></a></li><li><a class="toctext" href="../../04/clip_38.3s/"><code>clip_38.3s</code></a></li><li><a class="toctext" href="../../04/clip_38.0m/"><code>clip_38.0m</code></a></li><li><a class="toctext" href="../../04/clip_38.1m/"><code>clip_38.1m</code></a></li><li><a class="toctext" href="../../04/clip_43s/"><code>clip_43s</code></a></li><li><a class="toctext" href="../../04/clip_43t/"><code>clip_43t</code></a></li><li><a class="toctext" href="../../04/clip_45_47s/"><code>clip_45_47s</code></a></li><li><a class="toctext" href="../../04/clip_48_54s/"><code>clip_48_54s</code></a></li></ul></li><li><span class="toctext">Chapter 5</span><ul><li><a class="toctext" href="../../05/clip_01s/"><code>clip_01s</code></a></li></ul></li><li><span class="toctext">Chapter 8</span><ul><li><a class="toctext" href="../m8.1/"><code>m8.1.jl</code></a></li><li class="current"><a class="toctext" href><code>m8.1t.jl</code></a><ul class="internal"></ul></li><li><a class="toctext" href="../m8.2/"><code>m8.2.jl</code></a></li><li><a class="toctext" href="../m8.3/"><code>m8.3.jl</code></a></li><li><a class="toctext" href="../m8.4/"><code>m8.4.jl</code></a></li></ul></li><li><span class="toctext">Chapter 10</span><ul><li><a class="toctext" href="../../10/m10.3/"><code>m10.3.jl</code></a></li><li><a class="toctext" href="../../10/m10.4/"><code>m10.4.jl</code></a></li></ul></li><li><span class="toctext">Chapter 11</span><ul><li><a class="toctext" href="../../11/m11_5/"><code>m11.5.jl</code></a></li></ul></li><li><span class="toctext">Chapter 12</span><ul><li><a class="toctext" href="../../12/m12_1/"><code>m12.1.jl</code></a></li><li><a class="toctext" href="../../12/m12_2/"><code>m12.2.jl</code></a></li><li><a class="toctext" href="../../12/m12_3/"><code>m12.3.jl</code></a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Chapter 8</li><li><a href><code>m8.1t.jl</code></a></li></ul><a class="edit-page" href="https://github.com/StanJulia/StatisticalRethinking.jl/blob/master/docs/src/08/m8.1t.md"><span class="fa">ÔÇõ</span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>m8.1t.jl</span><a class="fa fa-bars" href="#"></a></div></header><h3><a class="nav-anchor" id="m8.1stan-1" href="#m8.1stan-1">m8.1stan</a></h3><p>m8.1stan is the first model in the Statistical Rethinking book (pp. 249) using Stan.</p><p>Here we will use Turing&#39;s NUTS support, which is currently (2018) the originalNUTS by <a href="http://www.stat.columbia.edu/~gelman/research/published/nuts.pdf">Hoffman &amp; Gelman</a> and not the one that&#39;s in <a href="https://arxiv.org/abs/1701.02434">Stan 2.18.2, i.e., Appendix A.5</a>.</p><p>The StatisticalRethinking pkg uses, e.g., Turing, CSV, DataFrames</p><pre><code class="language-julia">using StatisticalRethinking</code></pre><pre><code class="language-none">loaded


‚îå Warning: Package Turing does not have CmdStan in its dependencies:
‚îÇ - If you have Turing checked out for development and have
‚îÇ   added CmdStan as a dependency but haven&#39;t updated your primary
‚îÇ   environment&#39;s manifest file, try `Pkg.resolve()`.
‚îÇ - Otherwise you may need to report an issue with Turing
‚îÇ Loading CmdStan into Turing from project dependency, future warnings for Turing are suppressed.
‚îî @ nothing nothing:840
WARNING: using CmdStan.Sample in module Turing conflicts with an existing identifier.</code></pre><p>Read in rugged data as a DataFrame</p><pre><code class="language-julia">d = CSV.read(joinpath(dirname(Base.pathof(StatisticalRethinking)), &quot;..&quot;, &quot;data&quot;,
    &quot;rugged.csv&quot;), delim=&#39;;&#39;);
# Show size of the DataFrame (should be 234x51)
size(d)</code></pre><pre><code class="language-none">(234, 51)</code></pre><p>Apply log() to each element in rgdppc_2000 column and add it as a new column</p><pre><code class="language-julia">d = hcat(d, map(log, d[Symbol(&quot;rgdppc_2000&quot;)]));</code></pre><p>Rename our col x1 =&gt; log_gdp</p><pre><code class="language-julia">rename!(d, :x1 =&gt; :log_gdp);</code></pre><p>Now we need to drop every row where rgdppc_2000 == missing</p><p>When this (https://github.com/JuliaData/DataFrames.jl/pull/1546) hits DataFrame it&#39;ll be conceptually easier: i.e., completecases!(d, :rgdppc_2000)</p><pre><code class="language-julia">notisnan(e) = !ismissing(e)
dd = d[map(notisnan, d[:rgdppc_2000]), :];</code></pre><p>Updated DataFrame dd size (should equal 170 x 52)</p><pre><code class="language-julia">size(dd)</code></pre><pre><code class="language-none">(170, 52)</code></pre><p>Define the Turing model</p><pre><code class="language-julia">@model m8_1stan(y, x‚ÇÅ, x‚ÇÇ) = begin
    œÉ ~ Truncated(Cauchy(0, 2), 0, Inf)
    Œ≤R ~ Normal(0, 10)
    Œ≤A ~ Normal(0, 10)
    Œ≤AR ~ Normal(0, 10)
    Œ± ~ Normal(0, 100)

    for i ‚àà 1:length(y)
        y[i] ~ Normal(Œ± + Œ≤R * x‚ÇÅ[i] + Œ≤A * x‚ÇÇ[i] + Œ≤AR * x‚ÇÅ[i] * x‚ÇÇ[i], œÉ)
    end
end;</code></pre><p>Test to see that the model is sane. Use 2000 for now, as in the book. Need to set the same stepsize and adapt_delta as in Stan...</p><pre><code class="language-julia">posterior = sample(m8_1stan(dd[:,:log_gdp], dd[:,:rugged], dd[:,:cont_africa]),
    Turing.NUTS(2000, 1000, 0.95));
# Describe the posterior samples
describe(posterior)</code></pre><pre><code class="language-none">‚îå Warning: Indexing with colon as row will create a copy in the future. Use `df[col_inds]` to get the columns without copying
‚îÇ   caller = top-level scope at In[8]:1
‚îî @ Core In[8]:1
‚îå Warning: Indexing with colon as row will create a copy in the future. Use `df[col_inds]` to get the columns without copying
‚îÇ   caller = top-level scope at In[8]:1
‚îî @ Core In[8]:1
‚îå Warning: Indexing with colon as row will create a copy in the future. Use `df[col_inds]` to get the columns without copying
‚îÇ   caller = top-level scope at In[8]:1
‚îî @ Core In[8]:1
‚îå Info: [Turing] looking for good initial eps...
‚îî @ Turing /Users/rob/.julia/packages/Turing/orJH9/src/samplers/support/hmc_core.jl:246
[NUTS{Union{}}] found initial œµ: 0.05
‚îî @ Turing /Users/rob/.julia/packages/Turing/orJH9/src/samplers/support/hmc_core.jl:291
[32m[NUTS] Sampling...  1%  ETA: 0:06:54[39m
[34m  œµ:         0.021702349971125082[39m
[34m  Œ±:         0.9890516933991319[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling...  2%  ETA: 0:05:49[39m
[34m  œµ:         0.025964213600878867[39m
[34m  Œ±:         0.8596042698404098[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling...  3%  ETA: 0:04:25[39m
[34m  œµ:         0.014815766991558857[39m
[34m  Œ±:         0.9934963906380034[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling...  4%  ETA: 0:03:49[39m
[34m  œµ:         0.032734674808041646[39m
[34m  Œ±:         0.8267264305201034[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling...  5%  ETA: 0:03:11[39m
[34m  œµ:         0.03183906486749323[39m
[34m  Œ±:         0.9980435182012655[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling...  6%  ETA: 0:02:52[39m
[34m  œµ:         0.02332219042746582[39m
[34m  Œ±:         0.9938986598752901[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling...  7%  ETA: 0:02:42[39m
[34m  œµ:         0.022765193972566565[39m
[34m  Œ±:         0.9963929753051147[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling...  8%  ETA: 0:02:32[39m
[34m  œµ:         0.018115226291014586[39m
[34m  Œ±:         0.9831564890831901[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling...  9%  ETA: 0:02:24[39m
[34m  œµ:         0.0264916665322655[39m
[34m  Œ±:         0.9887844525209211[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 10%  ETA: 0:02:16[39m
[34m  œµ:         0.021575607716437604[39m
[34m  Œ±:         0.9749267632446936[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 11%  ETA: 0:02:10[39m
[34m  œµ:         0.03141462283517077[39m
[34m  Œ±:         0.8714611472530431[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 12%  ETA: 0:02:04[39m
[34m  œµ:         0.02939689779238441[39m
[34m  Œ±:         0.9984025534187178[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 13%  ETA: 0:02:03[39m
[34m  œµ:         0.01909107851666875[39m
[34m  Œ±:         0.9992739975281155[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 14%  ETA: 0:02:02[39m
[34m  œµ:         0.021149241662058213[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 15%  ETA: 0:01:58[39m
[34m  œµ:         0.023888285400989993[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 16%  ETA: 0:01:57[39m
[34m  œµ:         0.01889749833742631[39m
[34m  Œ±:         0.9178221360475471[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 16%  ETA: 0:01:54[39m
[34m  œµ:         0.03289091879046056[39m
[34m  Œ±:         0.9983176872334326[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 18%  ETA: 0:01:51[39m
[34m  œµ:         0.03143636930148497[39m
[34m  Œ±:         0.973450644644926[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 19%  ETA: 0:01:48[39m
[34m  œµ:         0.03333568334968122[39m
[34m  Œ±:         0.8802416912910938[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 19%  ETA: 0:01:47[39m
[34m  œµ:         0.024860129757923958[39m
[34m  Œ±:         0.9465574509975048[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 20%  ETA: 0:01:45[39m
[34m  œµ:         0.024147271950740724[39m
[34m  Œ±:         0.9963454219465105[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 21%  ETA: 0:01:42[39m
[34m  œµ:         0.02841750041302116[39m
[34m  Œ±:         0.9915183507724583[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 23%  ETA: 0:01:38[39m
[34m  œµ:         0.03477889821030197[39m
[34m  Œ±:         0.9620996967069368[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 24%  ETA: 0:01:35[39m
[34m  œµ:         0.02292329764909516[39m
[34m  Œ±:         0.9531273994262867[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 25%  ETA: 0:01:34[39m
[34m  œµ:         0.03465171740982106[39m
[34m  Œ±:         0.9696570042137486[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 26%  ETA: 0:01:32[39m
[34m  œµ:         0.03154099794490125[39m
[34m  Œ±:         0.9666588241056846[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 27%  ETA: 0:01:30[39m
[34m  œµ:         0.025445032131723687[39m
[34m  Œ±:         0.9987618606606394[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 28%  ETA: 0:01:29[39m
[34m  œµ:         0.02700948014435288[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 29%  ETA: 0:01:26[39m
[34m  œµ:         0.04045178285341591[39m
[34m  Œ±:         0.9962842848999183[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 30%  ETA: 0:01:24[39m
[34m  œµ:         0.015560536869733648[39m
[34m  Œ±:         0.9822753019048962[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 31%  ETA: 0:01:23[39m
[34m  œµ:         0.022521210797718835[39m
[34m  Œ±:         0.9747560489912214[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 32%  ETA: 0:01:21[39m
[34m  œµ:         0.036886036835501936[39m
[34m  Œ±:         0.9641170285183496[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 33%  ETA: 0:01:18[39m
[34m  œµ:         0.03218803022030199[39m
[34m  Œ±:         0.8559107831132022[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 34%  ETA: 0:01:17[39m
[34m  œµ:         0.03217185677378528[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 36%  ETA: 0:01:14[39m
[34m  œµ:         0.029934090465140267[39m
[34m  Œ±:         0.9637935308868608[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 37%  ETA: 0:01:13[39m
[34m  œµ:         0.03766209842729723[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 38%  ETA: 0:01:11[39m
[34m  œµ:         0.022525648837685045[39m
[34m  Œ±:         0.979910303228714[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 39%  ETA: 0:01:10[39m
[34m  œµ:         0.01786061046273[39m
[34m  Œ±:         0.9771913428474581[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 40%  ETA: 0:01:09[39m
[34m  œµ:         0.028067342663153656[39m
[34m  Œ±:         0.9753760022954534[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 40%  ETA: 0:01:08[39m
[34m  œµ:         0.028986812476833282[39m
[34m  Œ±:         0.9375335119964464[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 41%  ETA: 0:01:07[39m
[34m  œµ:         0.032117279642967206[39m
[34m  Œ±:         0.9940669026916351[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 42%  ETA: 0:01:06[39m
[34m  œµ:         0.030737127864859708[39m
[34m  Œ±:         0.9821912777159816[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 43%  ETA: 0:01:05[39m
[34m  œµ:         0.026438391658241963[39m
[34m  Œ±:         0.9980480594684609[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 44%  ETA: 0:01:03[39m
[34m  œµ:         0.02780498401755003[39m
[34m  Œ±:         0.9379581388525683[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 45%  ETA: 0:01:02[39m
[34m  œµ:         0.021497580222665725[39m
[34m  Œ±:         0.997838993180469[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 46%  ETA: 0:01:01[39m
[34m  œµ:         0.030820042201476643[39m
[34m  Œ±:         0.9780183694318911[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 47%  ETA: 0:00:59[39m
[34m  œµ:         0.02581329680132846[39m
[34m  Œ±:         0.9602252978375723[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 48%  ETA: 0:00:58[39m
[34m  œµ:         0.04447510506264669[39m
[34m  Œ±:         0.9603561420806969[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 50%  ETA: 0:00:57[39m
[34m  œµ:         0.028028277925480596[39m
[34m  Œ±:         0.936555913265008[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m‚îå Info:  Adapted œµ = 0.028862387932864265, std = [1.0, 1.0, 1.0, 1.0, 1.0]; 1000 iterations is used for adaption.
‚îî @ Turing /Users/rob/.julia/packages/Turing/orJH9/src/samplers/adapt/adapt.jl:91



[32m[NUTS] Sampling... 51%  ETA: 0:00:55[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9731170875091677[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 52%  ETA: 0:00:54[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9323017998991567[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 53%  ETA: 0:00:53[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9903549704526096[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 54%  ETA: 0:00:51[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9978152996666327[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 55%  ETA: 0:00:50[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 56%  ETA: 0:00:49[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9745595306250021[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 57%  ETA: 0:00:48[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9364723452724012[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 58%  ETA: 0:00:47[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9882822029392492[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 59%  ETA: 0:00:46[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9764526530232573[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 60%  ETA: 0:00:44[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9945875964420767[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 61%  ETA: 0:00:42[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 62%  ETA: 0:00:41[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9962157248944833[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 63%  ETA: 0:00:40[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9890323655917073[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 65%  ETA: 0:00:38[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.8324021795495518[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 66%  ETA: 0:00:37[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9657150103723464[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 67%  ETA: 0:00:36[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9234381416818382[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 68%  ETA: 0:00:35[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9494730649956734[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 69%  ETA: 0:00:34[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.8784878588473566[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 69%  ETA: 0:00:33[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9935813628621196[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 70%  ETA: 0:00:32[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9727677401574897[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 71%  ETA: 0:00:31[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9942663653403332[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 73%  ETA: 0:00:29[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9439622157894664[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 74%  ETA: 0:00:28[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.999478295756282[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 75%  ETA: 0:00:27[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9729044361179782[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 75%  ETA: 0:00:26[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 76%  ETA: 0:00:26[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9894849332618576[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 77%  ETA: 0:00:25[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9978627128794907[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 78%  ETA: 0:00:24[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9929515657222006[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 79%  ETA: 0:00:23[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9993663615086615[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 80%  ETA: 0:00:22[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.99958917121676[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 81%  ETA: 0:00:21[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9948412904815331[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 82%  ETA: 0:00:20[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 82%  ETA: 0:00:19[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9846293914634091[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 83%  ETA: 0:00:18[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 84%  ETA: 0:00:17[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 85%  ETA: 0:00:16[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9867209387222736[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 86%  ETA: 0:00:15[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9757542419609502[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 88%  ETA: 0:00:13[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9098487923015703[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 89%  ETA: 0:00:12[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9116645340587638[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 90%  ETA: 0:00:11[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.8741954363453688[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 90%  ETA: 0:00:10[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.98152618446337[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 92%  ETA: 0:00:09[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         1.0[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 93%  ETA: 0:00:08[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.997082288585899[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 94%  ETA: 0:00:07[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9913409566691967[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 95%  ETA: 0:00:06[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9636173199279039[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 96%  ETA: 0:00:05[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.8274183984970295[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 97%  ETA: 0:00:04[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9899779190278849[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 98%  ETA: 0:00:03[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.906318260459193[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling... 98%  ETA: 0:00:02[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.9917617167298529[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m


[32m[NUTS] Sampling...100%  ETA: 0:00:00[39m
[34m  œµ:         0.028862387932864265[39m
[34m  Œ±:         0.8337995406437935[39m
[A4m  pre_cond:  [1.0, 1.0, 1.0, 1.0, 1.0][39m




[NUTS] Finished with
  Running time        = 107.10928417000004;
  #lf / sample        = 0.0015;
  #evals / sample     = 44.931;
  pre-cond. metric    = [1.0, 1.0, 1.0, 1.0, 1.0].


[32m[NUTS] Sampling...100% Time: 0:01:48[39m


Iterations = 1:2000
Thinning interval = 1
Chains = 1
Samples per chain = 2000

Empirical Posterior Estimates:
              Mean           SD         Naive SE        MCSE         ESS   
       Œ±    9.192198853  0.471485288 0.01054273155 0.03488051527  182.71345
  lf_num    0.001500000  0.067082039 0.00150000000 0.00150000000 2000.00000
      Œ≤A   -1.916864926  0.377451668 0.00844007588 0.02969740713  161.54207
      Œ≤R   -0.195354050  0.142021349 0.00317569391 0.01008324641  198.38394
       œÉ    0.968861418  0.295329191 0.00660376148 0.01871696223  248.96714
 elapsed    0.053554642  0.076105161 0.00170176314 0.00239230124 1012.03724
 epsilon    0.029681037  0.018393691 0.00041129543 0.00041492961 1965.11923
eval_num   44.931000000 25.521538227 0.57067894365 0.67314732101 1437.45232
     Œ≤AR    0.386290432  0.160630677 0.00359181114 0.00838013229  367.41360
      lp -249.858010884 17.850220615 0.39914306709 1.35731471511  172.95219
  lf_eps    0.029681037  0.018393691 0.00041129543 0.00041492961 1965.11923

Quantiles:
              2.5%           25.0%          50.0%          75.0%          97.5%    
       Œ±    8.948743652    9.126714263    9.221557657    9.318783435    9.501543505
  lf_num    0.000000000    0.000000000    0.000000000    0.000000000    0.000000000
      Œ≤A   -2.368320692   -2.097968685   -1.938597291   -1.779472367   -1.451814577
      Œ≤R   -0.361073257   -0.254798277   -0.204489451   -0.149987743   -0.042763334
       œÉ    0.857642577    0.915085102    0.947928480    0.984199708    1.060340022
 elapsed    0.009562707    0.026420479    0.050147139    0.061298654    0.116432655
 epsilon    0.018468817    0.028417477    0.028862388    0.028862388    0.039981894
eval_num   10.000000000   22.000000000   46.000000000   46.000000000   94.000000000
     Œ≤AR    0.118640406    0.298877960    0.395536816    0.480566011    0.656950733
      lp -252.744273688 -249.297284956 -248.219714562 -247.399261183 -246.384239328
  lf_eps    0.018468817    0.028417477    0.028862388    0.028862388    0.039981894</code></pre><p>Example of a Turing run simulation output</p><pre><code class="language-julia">m_08_1t_turing_result = &quot;
        Mean           SD        Naive SE        MCSE         ESS
Œ±    9.2140454953  0.416410339 0.00931121825 0.0303436655  188.324543
Œ≤A  -1.9414588557  0.373885658 0.00836033746 0.0583949856   40.994586
Œ≤R  -0.1987645549  0.158902372 0.00355316505 0.0128657961  152.541295
œÉ    0.9722532977  0.440031013 0.00983939257 0.0203736871  466.473854
Œ≤AR  0.3951414223  0.187780491 0.00419889943 0.0276680621   46.062071
&quot;;</code></pre><p>Here&#39;s the map2stan output from rethinking</p><pre><code class="language-julia">m_08_1_map2stan_result = &quot;
       Mean StdDev lower 0.89 upper 0.89 n_eff Rhat
 a      9.24   0.14       9.03       9.47   291    1
 bR    -0.21   0.08      -0.32      -0.07   306    1
 bA    -1.97   0.23      -2.31      -1.58   351    1
 bAR    0.40   0.13       0.20       0.63   350    1
 sigma  0.95   0.05       0.86       1.03   566    1
&quot;;

#-</code></pre><p><em>This notebook was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p><footer><hr/><a class="previous" href="../m8.1/"><span class="direction">Previous</span><span class="title"><code>m8.1.jl</code></span></a><a class="next" href="../m8.2/"><span class="direction">Next</span><span class="title"><code>m8.2.jl</code></span></a></footer></article></body></html>
